<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Accord ‚Äî Suggestion Manager</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Syne:wght@400;600;800&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>
</head>
<body>

<!-- SIDEBAR -->
<nav id="sidebar">
  <div id="sidebar-header">
    <div id="sidebar-logo"><span class="logo-dot"></span>Accord</div>
    <div id="sidebar-subtitle">Suggestion Manager ¬∑ v1.0</div>
    <div id="page-tabs">
      <button class="page-tab" id="tab-docs" onclick="switchPageTab('docs')">Docs</button>
      <button class="page-tab active" id="tab-suggestions" onclick="switchPageTab('suggestions')">Suggestions</button>
    </div>
  </div>
  <div id="sidebar-nav" style="flex:1;overflow-y:auto;display:flex;flex-direction:column;min-height:0;">
    <div id="suggestions-sidebar-nav">
      <div class="sidebar-section-label">Views</div>
      <button class="sidebar-btn view-pending active" onclick="setView('pending', this)">
        Pending <span class="btn-count" id="count-pending">0</span>
      </button>
      <button class="sidebar-btn view-approved" onclick="setView('approved', this)">
        Approved <span class="btn-count" id="count-approved">0</span>
      </button>
      <button class="sidebar-btn view-rejected" onclick="setView('rejected', this)">
        Rejected <span class="btn-count" id="count-rejected">0</span>
      </button>
      <button class="sidebar-btn view-archived" onclick="setView('archived', this)">
        Archived <span class="btn-count" id="count-archived">0</span>
      </button>
      <button class="sidebar-btn view-history" onclick="setView('history', this)">
        History <span class="btn-count" id="count-history">0</span>
      </button>
      <div class="sidebar-section-label" style="margin-top:8px;">Categories</div>
      <button class="cat-nav-item active" onclick="filterCategory('all', this)" data-cat="all">
        <span>All Categories</span>
        <span class="cat-count" id="cat-count-all">0</span>
      </button>
      <div id="cat-nav-list"></div>
    </div>
    <div id="docs-sidebar-nav">
      <div class="docs-section-label">Sections</div>
      <div id="docs-nav-list"></div>
    </div>
  </div>
  <div id="sidebar-footer">
    <button class="footer-btn data-btn" onclick="openDataModal()">Data</button>
    <button class="footer-btn settings-btn" onclick="openSettings()">Settings</button>
  </div>
</nav>

<!-- TOPBAR -->
<div id="topbar">
  <button id="menu-toggle" class="topbar-btn" onclick="toggleSidebar()"><i class="fa-solid fa-bars"></i></button>
  <div id="topbar-title">
    Suggestion Manager <span id="topbar-team"></span>
  </div>
  <button class="topbar-btn" onclick="openSettings()"><i class="fa-solid fa-gear"></i></button>
  <button id="notif-btn" class="topbar-btn" onclick="openNotifications()" style="position:relative;">
    <i class="fa-solid fa-bell"></i>
    <span id="notif-badge" class="notif-badge"></span>
  </button>
  <label class="toggle-theme" title="Toggle theme">
    <span style="font-size:13px;"><i class="fa-solid fa-moon"></i></span>
    <label class="toggle-switch">
      <input type="checkbox" id="theme-toggle-cb" onchange="toggleTheme(this)">
      <span class="toggle-track"><span class="toggle-thumb"></span></span>
    </label>
    <span style="font-size:13px;"><i class="fa-solid fa-sun"></i></span>
  </label>
  <button class="topbar-btn create-btn" onclick="openCategoryPicker()"><i class="fa-solid fa-plus"></i> <span class="create-text">New Suggestion</span></button>
</div>

<!-- MAIN CONTENT -->
<div id="main">
  <!-- Pending Page -->
  <div class="page active" id="page-pending">
    <div class="page-header">
      <h1>Pending Suggestions</h1>
    </div>
    <div class="page-filter-bar">
      <input class="filter-search" id="search-pending" type="text" placeholder="Search suggestions‚Ä¶">
    </div>
    <div id="cards-pending"></div>
  </div>

  <!-- Approved Page -->
  <div class="page" id="page-approved">
    <div class="page-header">
      <h1>Approved ‚Äî Documentation</h1>
    </div>
    <div class="page-filter-bar">
      <input class="filter-search" id="search-approved" type="text" placeholder="Search approved‚Ä¶">
    </div>
    <div id="cards-approved"></div>
  </div>

  <!-- Rejected Page -->
  <div class="page" id="page-rejected">
    <div class="page-header">
      <h1>Rejected Suggestions</h1>
    </div>
    <div class="page-filter-bar">
      <input class="filter-search" id="search-rejected" type="text" placeholder="Search rejected‚Ä¶">
    </div>
    <div id="cards-rejected"></div>
  </div>

  <!-- Archived Page -->
  <div class="page" id="page-archived">
    <div class="page-header">
      <h1>Archived</h1>
    </div>
    <div class="page-filter-bar">
      <input class="filter-search" id="search-archived" type="text" placeholder="Search archived‚Ä¶">
    </div>
    <div id="cards-archived"></div>
  </div>

  <!-- History Page -->
  <div class="page" id="page-history">
    <div class="page-header">
      <h1>Change History</h1>
    </div>
    <div class="page-filter-bar history-filters-grid">
      <div class="filter-group main-search">
        <label class="filter-label">Search</label>
        <input class="filter-search" id="search-history" type="text" placeholder="Search title or notes‚Ä¶">
      </div>
      
      <div class="filter-group">
        <label class="filter-label">Action</label>
        <select class="form-select filter-select" id="filter-history-action">
          <option value="all">All Actions</option>
          <option value="created">Created</option>
          <option value="edited">Edited</option>
          <option value="approved">Approved</option>
          <option value="rejected">Rejected</option>
          <option value="archived">Archived</option>
          <option value="restored">Restored</option>
          <option value="revoked">Revoked</option>
        </select>
      </div>

      <div class="filter-group">
        <label class="filter-label">User</label>
        <select class="form-select filter-select" id="filter-history-user">
          <option value="all">All Users</option>
        </select>
      </div>

      <div class="filter-group date-range-group">
        <label class="filter-label">Date Range</label>
        <div class="date-range-inputs">
          <input type="datetime-local" class="form-input date-input" id="filter-history-start">
          <span class="date-sep">to</span>
          <input type="datetime-local" class="form-input date-input" id="filter-history-end">
        </div>
      </div>

      <div class="filter-group">
        <label class="filter-label">Sort</label>
        <select class="form-select filter-select" id="sort-history-order">
          <option value="desc">Newest First</option>
          <option value="asc">Oldest First</option>
        </select>
      </div>
    </div>
    <div id="history-list"></div>
  </div>

  <!-- Docs Page -->
  <div class="page" id="page-docs">
    <div class="page-filter-bar">
      <input class="filter-search" id="search-docs" type="text" placeholder="Search documentation‚Ä¶">
    </div>
    <div id="docs-content"></div>
  </div>
</div>

<!-- TOAST NOTIFICATION -->
<div class="notif-toast" id="toast"></div>

<!-- ‚ïê‚ïê‚ïê MODAL: Notifications ‚ïê‚ïê‚ïê -->
<div class="modal-overlay" id="modal-notifications">
  <div class="modal">
    <div class="modal-header">
      <div>
        <div class="modal-title">Recent Additions</div>
        <div class="modal-subtitle">Items added since your last visit</div>
      </div>
      <button class="modal-close" onclick="closeModal('modal-notifications')"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="modal-body" id="notif-list" style="padding:0;">
      <!-- Notifications rendered here -->
    </div>
    <div class="modal-footer">
      <button class="btn btn-ghost" onclick="clearNotifications()">Clear All</button>
      <button class="btn btn-primary" onclick="closeModal('modal-notifications')">Close</button>
    </div>
  </div>
</div>

<!-- MOBILE OVERLAY -->
<div id="sidebar-overlay" onclick="toggleSidebar()"></div>

<!-- ‚ïê‚ïê‚ïê MODAL: Category Picker ‚ïê‚ïê‚ïê -->
<div class="modal-overlay" id="modal-cat-picker">
  <div class="modal">
    <div class="modal-header">
      <div>
        <div class="modal-title">Select Category</div>
        <div class="modal-subtitle">Choose where this suggestion belongs</div>
      </div>
      <button class="modal-close" onclick="closeModal('modal-cat-picker')"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="modal-body">
      <div class="cat-search-wrap">
        <input class="form-input" id="cat-search-input" type="text" placeholder="Search categories‚Ä¶" oninput="filterCatOptions(this.value)">
        <button class="cat-add-btn" title="Create new category" onclick="openNewCatModal()">Ôºã</button>
      </div>
      <div class="cat-dropdown" id="cat-options-list"></div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-ghost" onclick="closeModal('modal-cat-picker')">Cancel</button>
      <button class="btn btn-primary" onclick="proceedToEditor()">Continue <i class="fa-solid fa-arrow-right"></i></button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê MODAL: New Category ‚ïê‚ïê‚ïê -->
<div class="modal-overlay" id="modal-new-cat">
  <div class="modal">
    <div class="modal-header">
      <div>
        <div class="modal-title">New Category</div>
        <div class="modal-subtitle">Create a suggestion category</div>
      </div>
      <button class="modal-close" onclick="closeModal('modal-new-cat')"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label class="form-label">Category Name</label>
        <input class="form-input" id="new-cat-name" type="text" placeholder="e.g. Networking, Security, UI/UX‚Ä¶">
      </div>
      <div class="form-group">
        <label class="form-label">Emoji (optional)</label>
        <div class="new-cat-emoji-row">
          <div class="new-cat-emoji-preview" id="new-cat-emoji-preview" onclick="toggleEmojiPicker('new-cat-emoji-picker')">üóÇÔ∏è</div>
          <div style="flex:1">
            <div style="font-size:12px;color:var(--text-muted)">Click the emoji to change it.</div>
            <div id="new-cat-emoji-picker" class="emoji-picker-mini">
              <div class="emoji-grid" id="emoji-grid-cat"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-ghost" onclick="closeModal('modal-new-cat')">Cancel</button>
      <button class="btn btn-primary" onclick="saveNewCategory()">Create Category</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê MODAL: Suggestion Editor ‚ïê‚ïê‚ïê -->
<div class="modal-overlay" id="modal-editor">
  <div class="modal modal-lg">
    <div class="modal-header">
      <div>
        <div class="modal-title" id="editor-modal-title">New Suggestion</div>
        <div class="modal-subtitle" id="editor-modal-subtitle">Category: ‚Äî</div>
      </div>
      <button class="modal-close" onclick="closeModal('modal-editor')"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="modal-body" style="padding:16px;">
      <div class="editor-card">
        <!-- Tag Row -->
        <div class="editor-tag-row">
          <div class="tag-input-wrap">
            <input class="tag-input-field" id="editor-tag" type="text"
                   placeholder="Tag name‚Ä¶" autocomplete="off"
                   oninput="onTagInput(this.value)" onblur="hideSugAfterDelay()">
            <div class="tag-suggestions" id="tag-suggestions-list"></div>
          </div>
          <button class="emoji-btn" id="editor-tag-emoji-btn" title="Add emoji to tag" onclick="toggleEmojiPicker('tag-emoji-picker')">
            <span id="editor-tag-emoji-display">üè∑Ô∏è</span>
          </button>
          <div id="tag-emoji-picker" class="emoji-picker-mini" style="top:36px;right:0;left:auto;">
            <div class="emoji-grid" id="emoji-grid-tag"></div>
          </div>
        </div>
        <!-- Title Row -->
        <div class="editor-title-row">
          <input class="editor-title-field" id="editor-title" type="text" placeholder="Suggestion title‚Ä¶">
        </div>
        <!-- Body Toolbar -->
        <div class="editor-toolbar">
          <button class="toolbar-btn tb-link" title="Insert hyperlink" onclick="tbInsert('link')"><i class="fa-solid fa-link"></i> Link</button>
          <button class="toolbar-btn tb-tooltip" title="Insert tooltip" onclick="tbInsert('tooltip')"><i class="fa-solid fa-comment"></i> Tooltip</button>
          <button class="toolbar-btn tb-keyword" title="Insert keyword" onclick="tbInsert('keyword')"><i class="fa-solid fa-key"></i> Keyword</button>
          <div class="toolbar-sep"></div>
          <button class="toolbar-btn" title="Bold" onclick="tbInsert('bold')"><strong>B</strong></button>
          <button class="toolbar-btn" title="Inline code" onclick="tbInsert('code')">&lt;/&gt;</button>
          <div class="toolbar-sep"></div>
          <button class="toolbar-btn tb-img" title="Attach image" onclick="triggerAttach('image')"><i class="fa-solid fa-image"></i> Image</button>
          <button class="toolbar-btn tb-video" title="Attach video" onclick="triggerAttach('video')"><i class="fa-solid fa-film"></i> Video</button>
          <button class="toolbar-btn tb-html" title="Insert HTML block" onclick="openCodeInsert('html')"><i class="fa-solid fa-code"></i> HTML</button>
          <button class="toolbar-btn tb-mermaid" title="Insert Mermaid diagram" onclick="openCodeInsert('mermaid')"><i class="fa-solid fa-diagram-project"></i> Mermaid</button>
          <button class="toolbar-btn preview-btn" id="preview-toggle-btn" onclick="togglePreview()"><i class="fa-solid fa-eye"></i> Preview</button>
        </div>
        <!-- Body Field / Preview -->
        <div class="editor-body-row">
          <textarea class="editor-body-field" id="editor-body"
                    placeholder="Write suggestion body‚Ä¶&#10;&#10;Syntax:&#10;  (text [url])  ‚Üí hyperlink&#10;  (text <tooltip description>)  ‚Üí tooltip&#10;  ([keyword])  ‚Üí keyword&#10;  **text** ‚Üí bold&#10;  `code` ‚Üí inline code"></textarea>
          <div class="editor-preview" id="editor-preview"></div>
        </div>
        <!-- Info Boxes -->
        <div class="editor-info-boxes">
          <div class="info-box-label">Info Boxes</div>
          <div class="info-boxes-grid" id="info-boxes-grid">
            <!-- 3 boxes rendered by JS -->
          </div>
        </div>
        <!-- Attachments -->
        <div class="editor-attachments">
          <div class="info-box-label">Attachments</div>
          <div class="attachment-list" id="attachment-list"></div>
          <div class="attach-drop-zone" id="attach-drop-zone"
               ondragover="onDropZoneDragOver(event)"
               ondragleave="onDropZoneDragLeave(event)"
               ondrop="onDropZoneDrop(event)">
            <input type="file" id="attach-drop-input" multiple
                   accept="image/*,video/*"
                   onchange="handleDropZoneFiles(this.files)">
            <div class="drop-icon"><i class="fa-solid fa-paperclip"></i></div>
            <p class="drop-text"><strong>Click to select files</strong> or drag &amp; drop here</p>
            <p class="drop-sub">Images &amp; videos ¬∑ use toolbar buttons for HTML / Mermaid blocks</p>
          </div>
        </div>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-ghost" onclick="closeModal('modal-editor')">Cancel</button>
      <button class="btn btn-primary" onclick="saveSuggestion()">Save Suggestion</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê MODAL: Code Insert (HTML / Mermaid) ‚ïê‚ïê‚ïê -->
<div class="modal-overlay" id="modal-code-insert">
  <div class="modal">
    <div class="modal-header">
      <div>
        <div class="modal-title" id="code-insert-title">Insert HTML Block</div>
        <div class="modal-subtitle" id="code-insert-sub">Renders in an iframe</div>
      </div>
      <button class="modal-close" onclick="closeModal('modal-code-insert')"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="modal-body">
      <textarea class="form-textarea code-insert-area" id="code-insert-area" style="min-height:200px;"></textarea>
    </div>
    <div class="modal-footer">
      <button class="btn btn-ghost" onclick="closeModal('modal-code-insert')">Cancel</button>
      <button class="btn btn-primary" onclick="confirmCodeInsert()">Insert</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê MODAL: Settings ‚ïê‚ïê‚ïê -->
<div class="modal-overlay" id="modal-settings">
  <div class="modal">
    <div class="modal-header">
      <div>
        <div class="modal-title">Settings</div>
        <div class="modal-subtitle">Configure your workspace</div>
      </div>
      <button class="modal-close" onclick="closeModal('modal-settings')"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="modal-body">
      <div class="settings-row">
        <div>
          <div class="settings-label">Team Name / Author</div>
          <div class="settings-sub">Shown as "Suggested by: ‚Ä¶" on cards</div>
        </div>
        <input class="form-input" id="settings-team" type="text" placeholder="e.g. CottonLeSergal" style="width:200px;">
      </div>
      <div class="settings-row">
        <div>
          <div class="settings-label">Data</div>
          <div class="settings-sub">Export or import a ZIP package</div>
        </div>
        <button class="btn btn-accent btn-sm" onclick="closeModal('modal-settings');openDataModal();">Open Data Manager</button>
      </div>
      <input type="file" id="import-file" accept=".json" style="display:none">
      <div id="folder-path-display-settings" style="display:none;"></div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-ghost" onclick="closeModal('modal-settings')">Cancel</button>
      <button class="btn btn-primary" onclick="saveSettings()">Save Settings</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê MODAL: Data Management ‚ïê‚ïê‚ïê -->
<div class="modal-overlay" id="modal-data">
  <div class="modal modal-lg">
    <div class="modal-header">
      <div>
        <div class="modal-title">Data Management</div>
        <div class="modal-subtitle">GitHub sync ¬∑ local backup ¬∑ live folder</div>
      </div>
      <button class="modal-close" onclick="closeModal('modal-data')"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="modal-body" style="padding:0;">

      <!-- ‚îÄ‚îÄ GitHub Sync ‚îÄ‚îÄ -->
      <div class="dm-section">
        <div class="dm-section-hdr">
          <i class="fa-brands fa-github" style="flex-shrink:0;font-size:15px;"></i>
          GitHub Sync
        </div>

        <!-- Connection config -->
        <div class="dm-gh-config" id="dm-gh-config">
          <div class="dm-gh-fields">
            <div class="dm-field">
              <label class="dm-field-label">Personal Access Token</label>
              <div class="dm-pat-row">
                <input class="form-input dm-input" id="gh-pat" type="password" placeholder="ghp_‚Ä¶  (repo scope required)" autocomplete="off">
                <button class="dm-eye-btn" id="gh-pat-eye" onclick="togglePatVisibility()" title="Show/hide token"><i class="fa-solid fa-eye"></i></button>
              </div>
              <div class="dm-field-hint">Generate at <a href="https://github.com/settings/tokens/new?scopes=repo&description=Accord+Suggestion+Manager" target="_blank" rel="noopener" class="dm-link">github.com/settings/tokens</a> ‚Äî needs <code>repo</code> scope.</div>
            </div>
            <div style="display:flex;gap:10px;">
              <div class="dm-field" style="flex:1">
                <label class="dm-field-label">Repository</label>
                <input class="form-input dm-input" id="gh-repo" type="text" placeholder="owner/repository">
              </div>
              <div class="dm-field" style="width:110px">
                <label class="dm-field-label">Branch</label>
                <input class="form-input dm-input" id="gh-branch" type="text" placeholder="main">
              </div>
            </div>
            <div class="dm-field">
              <label class="dm-field-label">Path in repo <span style="font-weight:400;text-transform:none;letter-spacing:0">(optional, e.g. <code>docs/suggestions</code>)</span></label>
              <input class="form-input dm-input" id="gh-path" type="text" placeholder="Leave blank for repo root">
            </div>
          </div>
          <div style="display:flex;gap:8px;margin-top:12px;">
            <button class="btn btn-ghost btn-sm" id="gh-test-btn" onclick="ghTestConnection()">Test Connection</button>
            <button class="btn btn-primary btn-sm" onclick="ghSaveConfig()">Save Config</button>
          </div>
          <div class="dm-gh-status" id="dm-gh-status" style="display:none;"></div>
        </div>

        <!-- Push / Pull row -->
        <div class="dm-sync-row" id="dm-sync-row">
          <div class="dm-sync-status" id="dm-sync-status">
            <span class="dm-sync-dot" id="dm-sync-dot"></span>
            <span id="dm-sync-label">Not configured</span>
          </div>
          <div style="display:flex;gap:8px;flex-wrap:wrap;">
            <button class="btn btn-ghost btn-sm dm-config-toggle" onclick="toggleGhConfig()"><i class="fa-solid fa-gear"></i> Configure</button>
            <button class="btn btn-ghost btn-sm" id="gh-pull-btn" onclick="ghPull()"><i class="fa-solid fa-download"></i> Pull</button>
            <button class="btn btn-primary btn-sm" id="gh-push-btn" onclick="ghPush()"><i class="fa-solid fa-upload"></i> Push</button>
          </div>
        </div>

        <!-- Progress log -->
        <div class="dm-log" id="dm-log" style="display:none;">
          <div class="dm-log-inner" id="dm-log-inner"></div>
        </div>
      </div>

      <!-- ‚îÄ‚îÄ Local Backup ‚îÄ‚îÄ -->
      <div class="dm-section dm-section-secondary">
        <div class="dm-section-hdr dm-section-hdr-sm">Local Backup</div>
        <div style="display:flex;gap:10px;flex-wrap:wrap;align-items:center;">
          <button class="btn btn-ghost btn-sm" id="export-zip-btn" onclick="exportZip()"><i class="fa-solid fa-download"></i> Export ZIP</button>
          <button class="btn btn-ghost btn-sm" onclick="document.getElementById('import-zip-input').click()"><i class="fa-solid fa-upload"></i> Import ZIP</button>
          <button class="btn btn-ghost btn-sm" onclick="openPasteJson()"><i class="fa-solid fa-clipboard"></i> Paste JSON</button>
          <button class="btn btn-ghost btn-sm" onclick="pickSaveFolder()"><i class="fa-solid fa-folder-open"></i> Live Folder Sync</button>
          <div id="folder-path-display" style="font-size:11px;font-family:'JetBrains Mono',monospace;color:var(--accent2);word-break:break-all;display:none;flex-basis:100%;margin-top:2px;"></div>
        </div>
        <input type="file" id="import-zip-input" accept=".zip" style="display:none" onchange="importZip(this)">
      </div>

      <!-- Stats -->
      <div class="dm-section" style="border-top:1px solid var(--border-subtle);padding:12px 18px;">
        <div class="data-stats" id="data-stats"></div>
      </div>

    </div>
    <div class="modal-footer">
      <button class="btn btn-ghost" onclick="closeModal('modal-data')">Close</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê MODAL: Paste JSON ‚ïê‚ïê‚ïê -->
<div class="modal-overlay" id="modal-paste-json">
  <div class="modal">
    <div class="modal-header">
      <div>
        <div class="modal-title">Paste JSON</div>
        <div class="modal-subtitle">Paste a full accord-data JSON object to load it</div>
      </div>
      <button class="modal-close" onclick="closeModal('modal-paste-json')"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="modal-body">
      <textarea id="paste-json-input" style="width:100%;height:220px;background:var(--code-bg);border:1px solid var(--border);border-radius:7px;color:var(--text);font-family:'JetBrains Mono',monospace;font-size:12px;padding:12px;outline:none;resize:vertical;line-height:1.5;" placeholder='{ "config": { ... }, "categories": [...], "suggestions": [...], ... }'></textarea>
      <div id="paste-json-error" style="display:none;margin-top:8px;color:var(--danger);font-size:12px;font-family:'JetBrains Mono',monospace;"></div>
    </div>
    <div class="modal-footer" style="gap:8px;">
      <button class="btn btn-ghost" onclick="closeModal('modal-paste-json')">Cancel</button>
      <button class="btn btn-primary" onclick="loadPastedJson()">Load JSON</button>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê MODAL: Confirm ‚ïê‚ïê‚ïê -->
<div class="modal-overlay" id="modal-confirm">
  <div class="modal confirm-modal">
    <div class="modal-header">
      <div>
        <div class="modal-title" id="confirm-title">Confirm Action</div>
      </div>
      <button class="modal-close" onclick="closeModal('modal-confirm')"><i class="fa-solid fa-xmark"></i></button>
    </div>
    <div class="modal-body">
      <p class="confirm-msg" id="confirm-msg"></p>
      <textarea class="form-textarea" id="confirm-note" placeholder="Optional note‚Ä¶" style="min-height:60px;margin-top:14px;display:none;"></textarea>
    </div>
    <div class="modal-footer">
      <button class="btn btn-ghost" onclick="closeModal('modal-confirm')">Cancel</button>
      <button class="btn" id="confirm-ok-btn" onclick="executeConfirmAction()">Confirm</button>
    </div>
  </div>
</div>

</body>
</html>
