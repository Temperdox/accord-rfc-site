/* ═══════════════════════════════════════════
   SUGGESTION CARDS
═══════════════════════════════════════════ */
.suggestion-card {
  background: var(--bg-panel);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 22px;
  margin-bottom: 20px;
  transition: border-color 0.2s, box-shadow 0.2s;
  position: relative;
  /* Performance Optimizations */
  contain: content;
  content-visibility: auto;
  contain-intrinsic-size: 1px 200px; /* Placeholder size for virtual scroller */
}
.suggestion-card:hover {
  border-color: rgba(34,211,168,0.3);
  box-shadow: 0 0 20px rgba(34,211,168,0.06);
}
.suggestion-card.status-approved:hover {
  border-color: rgba(52,208,112,0.3);
  box-shadow: 0 0 20px rgba(52,208,112,0.06);
}
.suggestion-card.status-rejected { opacity: 0.75; }
.suggestion-card.status-rejected:hover {
  border-color: rgba(224,67,90,0.3);
  box-shadow: 0 0 16px rgba(224,67,90,0.06);
  opacity: 1;
}
.suggestion-card.status-archived {
  opacity: 0.6;
  border-style: dashed;
}
.card-top {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 8px;
  flex-wrap: wrap;
}
.card-tag {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 10px;
  font-weight: 700;
  letter-spacing: 1.1px;
  text-transform: uppercase;
  color: var(--accent2);
  background: var(--accent2-glow);
  padding: 3px 10px;
  border-radius: 20px;
  border: 1px solid rgba(34,211,168,0.2);
}
.card-status-badge {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  font-size: 10px;
  font-family: 'JetBrains Mono', monospace;
  padding: 3px 9px;
  border-radius: 5px;
  font-weight: 700;
  letter-spacing: 0.3px;
  flex-shrink: 0;
}
.badge-pending { background: var(--warn-glow); color: var(--warn); border: 1px solid rgba(240,160,48,0.25); }
.badge-approved { background: rgba(52,208,112,0.12); color: var(--success); border: 1px solid rgba(52,208,112,0.25); }
.badge-rejected { background: var(--danger-glow); color: var(--danger); border: 1px solid rgba(224,67,90,0.25); }
.badge-archived { background: rgba(124,111,160,0.12); color: var(--archived); border: 1px solid rgba(124,111,160,0.25); }

.card-title {
  font-family: 'Syne', sans-serif;
  font-size: 1.1em;
  font-weight: 700;
  color: var(--text-heading);
  margin: 8px 0 10px;
  line-height: 1.3;
}
.card-body {
  font-size: 13.5px;
  color: var(--text);
  line-height: 1.65;
  margin-bottom: 14px;
}
/* Semi-markdown rendered elements */
.sug-link {
  color: var(--accent);
  text-decoration: none;
  border-bottom: 1px solid rgba(61,122,237,0.35);
  transition: all 0.15s;
}
.sug-link:hover { border-bottom-color: var(--accent); }
.sug-tooltip-wrap {
  position: relative;
  display: inline;
  cursor: help;
  border-bottom: 1px dashed var(--accent2);
  color: var(--accent2);
}
.sug-tooltip-popup {
  position: absolute;
  bottom: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%);
  background: var(--bg);
  border: 1px solid var(--accent2);
  border-radius: 8px;
  padding: 9px 13px;
  font-size: 12px;
  color: var(--text);
  line-height: 1.5;
  white-space: normal;
  width: 220px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.5), 0 0 10px rgba(34,211,168,0.1);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.15s, transform 0.15s;
  transform: translateX(-50%) translateY(4px);
  z-index: 50;
}
.sug-tooltip-wrap:hover .sug-tooltip-popup {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}
.sug-keyword {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.85em;
  background: var(--code-bg);
  padding: 1px 5px;
  border-radius: 4px;
  color: var(--accent2);
  border-bottom: 1px dashed rgba(34,211,168,0.5);
}
.sug-bold { font-weight: 700; color: var(--text-heading); }
.sug-code {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.83em;
  background: var(--code-bg);
  padding: 2px 6px;
  border-radius: 4px;
  color: var(--accent2);
}

.impact-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 10px;
  margin: 14px 0;
}
.impact-item {
  background: rgba(255,255,255,0.025);
  border: 1px solid var(--border);
  border-radius: 7px;
  padding: 10px 13px;
}
[data-theme="light"] .impact-item { background: var(--bg-panel2); }
.impact-label {
  font-size: 9.5px;
  font-family: 'JetBrains Mono', monospace;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.8px;
  margin-bottom: 4px;
  font-weight: 700;
}
.impact-value {
  font-size: 12.5px;
  color: var(--text);
  font-weight: 500;
  line-height: 1.4;
}
.card-author-tag {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: var(--pink-glow);
  border: 1px solid rgba(255,133,192,0.25);
  color: var(--pink);
  font-family: 'JetBrains Mono', monospace;
  font-size: 11px;
  font-weight: 600;
  padding: 4px 12px;
  border-radius: 20px;
  margin-top: 12px;
}
.card-author-tag .author-dot {
  width: 5px; height: 5px;
  border-radius: 50%;
  background: var(--pink);
  box-shadow: 0 0 5px var(--pink);
}
.card-author-tag.approved { color: var(--success); background: rgba(52,208,112,0.1); border-color: rgba(52,208,112,0.25); }
.card-author-tag.approved .author-dot { background: var(--success); box-shadow: 0 0 5px var(--success); }
.card-author-tag.rejected { color: var(--danger); background: var(--danger-glow); border-color: rgba(224,67,90,0.25); }
.card-author-tag.rejected .author-dot { background: var(--danger); box-shadow: 0 0 5px var(--danger); }
.card-author-tag.archived { color: var(--archived); background: rgba(124,111,160,0.1); border-color: rgba(124,111,160,0.25); }
.card-author-tag.archived .author-dot { background: var(--archived); box-shadow: 0 0 5px var(--archived); }

.card-meta {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: wrap;
}
.card-category-pill {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 10.5px;
  color: var(--text-muted);
  font-family: 'JetBrains Mono', monospace;
}

/* Attachment previews */
.card-attachments { margin-top: 12px; display: flex; gap: 10px; flex-wrap: wrap; }
.card-attachment {
  border: 1px solid var(--border);
  border-radius: 7px;
  overflow: hidden;
  max-width: 280px;
}
.card-attachment.fullwidth {
  max-width: 100%;
  width: 100%;
}
.card-attachment img, .card-attachment video {
  max-width: 100%; max-height: 200px; display: block;
}
.card-attachment iframe {
  width: 280px; height: 160px; border: none; display: block;
}
.card-attachment.fullwidth iframe {
  width: 100%; height: 520px;
}
.card-attachment-label {
  font-size: 10px; font-family: 'JetBrains Mono', monospace;
  color: var(--text-muted); padding: 4px 8px;
  background: var(--code-bg);
  border-top: 1px solid var(--border);
}
.mermaid-wrap { border: 1px solid var(--border); border-radius: 7px; overflow: hidden; margin-top: 12px; }
.mermaid { background: #ffffff !important; border: none; margin: 0; border-radius: 0; padding: 16px; display: block; }
.mermaid-label {
  font-size: 10px; font-family: 'JetBrains Mono', monospace;
  color: var(--text-muted); padding: 4px 10px;
  background: var(--code-bg); border-bottom: 1px solid var(--border);
}

/* ═══════════════════════════════════════════
   HISTORY PAGE
═══════════════════════════════════════════ */
.history-entry {
  display: flex;
  gap: 14px;
  padding: 14px 0;
  border-bottom: 1px solid var(--border-subtle);
  align-items: flex-start;
}
.history-entry:last-child { border-bottom: none; }
.history-icon {
  width: 32px; height: 32px;
  border-radius: 8px;
  display: flex; align-items: center; justify-content: center;
  font-size: 15px; flex-shrink: 0;
}
.hist-created { background: rgba(34,211,168,0.12); }
.hist-approved { background: rgba(52,208,112,0.12); }
.hist-rejected { background: rgba(224,67,90,0.12); }
.hist-archived { background: rgba(124,111,160,0.12); }
.hist-edited { background: rgba(61,122,237,0.12); }
.history-content { flex: 1; min-width: 0; }
.history-action {
  font-size: 13px; color: var(--text-heading); font-weight: 500;
  margin-bottom: 2px;
}
.history-action strong { color: var(--text-heading); }
.history-meta {
  font-size: 11px; color: var(--text-muted);
  font-family: 'JetBrains Mono', monospace;
  display: flex; gap: 12px; flex-wrap: wrap;
}
